<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Education</title>
    <link rel="stylesheet" href="education.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- {% extends 'authentication/base.html' %}
{% load static %} -->
<!-- Include Bootstrap CSS -->
<!-- {% block title %} Education Form {% endblock %}
{% block navbar %} -->

<!-- {% endblock %}

{% block content %}     -->
<div class="container">
    <!-- Left Column -->
    <div class="">
        <div class="">
            <form method="post" action="{% url 'edu_data' %}">
                <!-- {% csrf_token %}
                {% if user.email %}

                {% endif %}

                {% if messages %}
                    <ul class="messages">
                        {% for message in messages %}
                            {% if message.tags == "error" %}
                                <li class="alert alert-danger">{{ message }}</li>
                            {% else %}
                                <li class="alert alert-success">{{ message }}</li>
                            {% endif %}    
                        {% endfor %}
                    </ul>
                {% endif %} -->
                
                <div class="row">
                    <div  >
                        <h5 class="title">Education</h5>
                    </div>
                  
                </div>
                <br><br>
                <div class="container">
                    <div class="row2">
                        <!-- Anëja e parë e formës -->
                        <div class="">



                        <form id="form">
                        <div class="form">
                            <label for="institution"><i class="fa-solid fa-building-columns"></i> Institution:</label>
                            </i><input type="text" id="institution" name="institution" value="{{ user_info.institution }}">

                            <span style="color: red;" id="institution_error"></span>


                        </div>
                    

                    
                        <div class="form">
                            <label for="degreeaw"><i class="fa-solid fa-graduation-cap"></i> Degreeaw:</label>
                            <select id="degreeaw" name="degreeaw" required>
                                {% for value, label in DEGREE_CHOICES %}
                                <option value="{{user_info.degreeaw}}" selected>{{user_info.degreeaw}}</option>
                                {% for v in label %}
                                <option value="{{ v.1 }}">
                                    {{ v.1 }}
                                </option>
                                {% endfor %}
                                {% endfor %}
                            </select>

                            <span style="color: red;" id="degreeaw_error"></span>
                        </div>
                        
                        
   
                        
                        <div class="form">
                            <label for="degree"><i class="fa-solid fa-graduation-cap"></i> Degree:</label>
                            <select  id="degree" name="degree" required>
                                {% for value, label in DEGREE_CHOICES %}
                                <option value="{{user_info.degree}}" selected>{{user_info.degree}}</option>
                                {% for v in label %}
                                <option value="{{ v.1 }}">
                                    {{ v.1 }}
                                </option>
                                {% endfor %}
                                {% endfor %}
                            </select>
                        </div>
                       
                        
                        <div class="form3">
                            <div class="form">
                                <label for="address"><i class="fa-solid fa-location-dot"></i> Address:</label>
                                <input type="text" class="address" id="address" name="address" value="{{ user_info.address }}">
                            
                                <span style="color: red;" id="address_error"></span>
                            </div>

                            <div class="form">
                                <label for="city"><i class="fa-solid fa-city"></i> City:</label>
                                <input type="text" class="city" id="city" name="city" value="{{ user_info.city }}">

                                <span style="color: red;" id="city_error"></span>
                            </div>
                            
                            <div class="form">
                                <label for="zip"><i class="fa-solid fa-map-pin"></i> Zip Code:</label>
                                <input type="text" class="zip" id="zip" name="zip" value="{{ user_info.zip }}">

                                <span style="color: red;" id="zip_error"></span>
                            </div>
                    </div>
                </div>
                    <div class="form2">   
                        
                    <div class="form">
                        <label for="country"><i class="fa-solid fa-earth-americas"></i> Country:</label>
                        <select class="" id="country" name="country" required>
                            {% for value, label in COUNTRY_CHOICES %}
                            <option value="{{user_info.country}}" selected>{{user_info.country}}</option>
                            {% for v in label %}
                            <option value="{{ v.1 }}">
                                {{ v.1 }}
                            </option>
                            {% endfor %}
                            {% endfor %}
                        </select>

                        <span style="color: red;" id="country_error"></span>
                    </div>
                    <div class="form">
                        <label for="phone"><i class="fa-solid fa-phone"></i> Phone:</label>
                        <input type="text" class="" id="phone" name="phone" value="{{ user_info.phone }}">

                        <span style="color: red;" id="phone_error"></span>
                    </div>
                    <div class="form">
                        <label for="start"><i class="fa-solid fa-calendar-days"></i> Start Date:</label>
                        <input type="date" class="" id="start" name="start" value="{{ user_info.start|date:'Y-m-d' }}">
                    </div>
                    <div class="form">
                        <label for="end"><i class="fa-regular fa-calendar-days"></i> End Date:</label>
                        <input type="date" class="" id="end" name="end" value="{{ user_info.end|date:'Y-m-d' }}">
                    </div>


                    <div class="form">
                        <label for="graduated"><i class="fa-solid fa-graduation-cap"></i> Graduated:</label>
                        <select class="" id="graduated" name="graduated" required>
                            {% for value, label in DEGREE_CHOICES %}
                            <option value="{{user_info.graduated}}" selected>{{user_info.graduated}}</option>
                            {% for v in label %}
                            <option value="{{ v.1 }}">
                                {{ v.1 }}
                            </option>
                            {% endfor %}
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form">
                        <label for="date"><i class="fa-solid fa-calendar-week"></i> Date:</label>
                        <input type="date" class="" id="date" name="date" value="{{ user_info.date|date:'Y-m-d' }}">
                    </div>

                    



                    <!-- Shto fushat e tjera në këtë anë sipas nevojës -->
                  
                            
                            <button type="submit" class="btn btn-primary mt-4" id="submit">Update</button>

                        </form>
                    </div>
                </div>
            </div>
            
<br><br><br>
{% endblock %}


<script>
    const institution = document.getElementById('institution');
    const degreeaw = document.getElementById('degreeaw');
    const degree = document.getElementById('degree');
    const address = document.getElementById('address');
    const city = document.getElementById('city');
    const zip = document.getElementById('zip');
    const country = document.getElementById('country');
    const phone = document.getElementById('phone');
    const start = document.getElementById('start');
    const end = document.getElementById('end');
    const graduated = document.getElementById('graduated');
    const date = document.getElementById('date');
    const form = document.querySelector('form');

    const institution_error = document.getElementById('institution_error');

    const degreeaw_error = document.getElementById('degreeaw_error');
    const address_error = document.getElementById('address_error');
    const city_error = document.getElementById('city_error');
    const zip_error = document.getElementById('zip_error');
    const phone_error = document.getElementById('phone_error');



    form.addEventListener('submit', (e) =>{

        

        // degreeaw
        if(institution.value === '' || institution.value == null)

        {
            e.preventDefault();
            degreeaw_error.innerHTML = "Degree is required";
        }

        // institution
        if(institution.value === '' || institution.value == null)

        {
            e.preventDefault();
            institution_error.innerHTML = "*Name is required";
        }

        else{
            institution_error.innerHTML = "";
        }

        // address
        if(address.value === '' || address.value == null)

        {
            e.preventDefault();
            address_error.innerHTML = "*Address is required";
        }

        else{
            address_error.innerHTML = "";
        }

        // City
        if(city.value === '' || city.value == null)

        {
            e.preventDefault();
            city_error.innerHTML = "*City is required";
        }

        else{
            city_error.innerHTML = "";
        }

        //zip
        if(zip.value.length < 5)

        {
            e.preventDefault();
            zip_error.innerHTML = "*Zip code must be 5 characters";
        }

        else{
            zip_error.innerHTML = "";
        }

        // phone
        if(phone.value.length < 5)

        {
            e.preventDefault();
            phone_error.innerHTML = "*Phone is required";
        }

        else{
            phone_error.innerHTML = "";
        }

    })
</script>

</body>
</html>
